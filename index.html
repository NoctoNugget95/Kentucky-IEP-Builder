<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Kentucky IEP Builder</title>
                <!-- Tailwind CSS -->
                    <script src="https://cdn.tailwindcss.com"></script>
                        <!-- Lucide Icons -->
                            <script src="https://unpkg.com/lucide@latest"></script>
                                <style>
                                        @media print {
                                                    .no-print { display: none !important; }
                                                                body { background: white; padding: 0; margin: 0; }
                                                                            .print-container { 
                                                                                            box-shadow: none; 
                                                                                                            max-width: 100%; 
                                                                                                                            width: 100%; 
                                                                                                                                            margin: 0; 
                                                                                                                                                            padding: 0; 
                                                                                                                                                                        }
                                                                                                                                                                                    .break-before { page-break-before: always; }
                                                                                                                                                                                                .break-inside-avoid { break-inside: avoid; }
                                                                                                                                                                                                        }
                                                                                                                                                                                                                /* Custom scrollbar */
                                                                                                                                                                                                                        ::-webkit-scrollbar { width: 8px; }
                                                                                                                                                                                                                                ::-webkit-scrollbar-track { background: #f1f1f1; }
                                                                                                                                                                                                                                        ::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
                                                                                                                                                                                                                                                ::-webkit-scrollbar-thumb:hover { background: #555; }
                                                                                                                                                                                                                                                    </style>
                                                                                                                                                                                                                                                    </head>
                                                                                                                                                                                                                                                    <body class="bg-slate-100 min-h-screen font-sans text-slate-900">

                                                                                                                                                                                                                                                        <!-- Loading / Error Overlay -->
                                                                                                                                                                                                                                                            <div id="loadingOverlay" class="fixed inset-0 bg-slate-800 bg-opacity-75 z-[60] flex items-center justify-center">
                                                                                                                                                                                                                                                                    <div class="bg-white p-8 rounded-lg shadow-xl max-w-md text-center">
                                                                                                                                                                                                                                                                                <h2 class="text-2xl font-bold text-slate-800 mb-2">Loading App...</h2>
                                                                                                                                                                                                                                                                                            <p id="loadingText" class="text-slate-600 mb-4">Initializing application state.</p>
                                                                                                                                                                                                                                                                                                        <div id="manualLoadSection" class="hidden text-left bg-yellow-50 p-4 rounded border border-yellow-200 text-sm">
                                                                                                                                                                                                                                                                                                                        <p class="font-bold text-yellow-800 mb-2">⚠️ Running Locally?</p>
                                                                                                                                                                                                                                                                                                                                        <p class="mb-2">Browsers block loading "standards.json" directly from your computer for security.</p>
                                                                                                                                                                                                                                                                                                                                                        <p class="mb-4"><strong>Option 1:</strong> Upload these files to GitHub (Recommended).</p>
                                                                                                                                                                                                                                                                                                                                                                        <p class="mb-2"><strong>Option 2:</strong> Manually select the <code>standards.json</code> file below to continue locally:</p>
                                                                                                                                                                                                                                                                                                                                                                                        <input type="file" id="manualStandardsInput" class="block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"/>
                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                                                                                                                                                                                            </div>
                                                                                                                                                                                                                                                                                                                                                                                                                </div>

                                                                                                                                                                                                                                                                                                                                                                                                                    <!-- Toolbar -->
                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-3 flex justify-around items-center z-50 md:fixed md:top-4 md:right-4 md:bottom-auto md:left-auto md:w-auto md:bg-transparent md:border-none md:flex-col md:gap-2 md:items-end md:p-0 no-print">
                                                                                                                                                                                                                                                                                                                                                                                                                                <button onclick="window.print()" class="flex flex-col md:flex-row items-center gap-1 md:gap-2 bg-transparent md:bg-blue-600 text-blue-600 md:text-white md:px-4 md:py-2 rounded md:shadow md:hover:bg-blue-700 transition text-xs md:text-sm">
                                                                                                                                                                                                                                                                                                                                                                                                                                            <i data-lucide="printer" class="w-5 h-5 md:w-4 md:h-4"></i> <span class="text-[10px] md:text-sm">Export PDF</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                    </button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                            <button onclick="saveToFile()" class="flex flex-col md:flex-row items-center gap-1 md:gap-2 bg-transparent md:bg-indigo-600 text-indigo-600 md:text-white md:px-4 md:py-2 rounded md:shadow md:hover:bg-indigo-700 transition text-xs md:text-sm">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <i data-lucide="download" class="w-5 h-5 md:w-4 md:h-4"></i> <span class="text-[10px] md:text-sm">Save Work</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <label class="flex flex-col md:flex-row items-center gap-1 md:gap-2 bg-transparent md:bg-orange-600 text-orange-600 md:text-white md:px-4 md:py-2 rounded md:shadow md:hover:bg-orange-700 transition text-xs md:text-sm cursor-pointer">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <i data-lucide="upload" class="w-5 h-5 md:w-4 md:h-4"></i> <span class="text-[10px] md:text-sm">Load Work</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <input type="file" id="fileInput" onchange="loadFromFile(this)" class="hidden" accept=".json" />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </label>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div id="saveStatus" class="hidden md:flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded shadow text-xs transition-opacity duration-500">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i data-lucide="save" class="w-3 h-3"></i> Auto-saved
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <!-- Main Document Container -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div id="app" class="print-container w-full md:max-w-[21cm] mx-auto bg-white shadow-xl min-h-[29.7cm] p-4 md:p-8 lg:p-[2cm] mb-20 md:mb-8 transition-all hidden">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <!-- Header -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <header class="border-b-4 border-blue-900 pb-4 mb-6 text-center">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <h1 class="text-xl md:text-2xl font-bold text-blue-900 uppercase tracking-widest">Individual Education Program (IEP)</h1>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <p class="text-xs md:text-sm text-slate-500">Kentucky Department of Education Compliance Format</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </header>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <!-- Dynamic Content -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div id="formContent"></div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <!-- Scripts -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <script src="app.js"></script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </html>


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    